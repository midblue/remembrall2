(window.webpackJsonp=window.webpackJsonp||[]).push([[31,6,13,15,17,18,20,21,23,24,28,29,30],{302:function(t,e,n){"use strict";n.r(e);n(25),n(52);var r={props:{text:{required:!1,default:"",type:String},lineBreaksAllowed:{required:!1,default:!0,type:Boolean},acceptBlank:{required:!1,default:!1,type:Boolean},disableEdits:{required:!1,default:!1,type:Boolean},placeholder:{required:!1,default:"",type:String},focus:{required:!1,default:!1,type:Boolean}},components:{},data:function(){return{displayText:this.text,isEditing:!1,metaDown:!1,shiftDown:!1,isPlaceholder:0===this.text.length}},model:{prop:"text",event:"changeText"},computed:{},watch:{text:function(t){this.isEditing||this.resetTextTo(t)},disableEdits:function(t){this.isEditing=!1,this.metaDown=!1,this.shiftDown=!1},focus:function(t){var e=this;t&&this.$nextTick((function(){e.startEdit()}))}},mounted:function(){window.addEventListener("keydown",this.keyDown),window.addEventListener("keyup",this.keyUp),this.isPlaceholder&&(this.displayText=this.placeholder),this.focus&&this.startEdit()},beforeDestroy:function(){window.removeEventListener("keydown",this.keyDown),window.removeEventListener("keyup",this.keyUp)},methods:{startEdit:function(){var t=this;this.isEditing||this.disableEdits||(this.isEditing=!0,this.isPlaceholder&&(this.displayText=""),this.isPlaceholder=!1,this.metaDown=!1,this.shiftDown=!1,this.$nextTick((function(){t.$el.focus(),t.$nextTick(t.selectText)})),this.$emit("startEdit",this.displayText))},resetTextTo:function(t){var e=this;this.displayText="",this.$el.innerHTML="",this.$nextTick((function(){e.displayText=t,t||!e.placeholder||e.isEditing||(e.displayText=e.placeholder,e.isPlaceholder=!0)}))},commitEdit:function(){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.isEditing=!1,this.metaDown=!1,this.shiftDown=!1;var t=this.sanitize(this.$el.innerHTML);t.length>0?this.$emit("endEdit",t):this.resetTextTo(this.text)},keyDown:function(t){this.isEditing&&!this.disableEdits&&("Meta"===t.key&&(this.metaDown=!0),"Shift"===t.key&&(this.shiftDown=!0),"Enter"!==t.key||this.lineBreaksAllowed||this.commitEdit(),"Enter"===t.key&&this.metaDown&&this.commitEdit(),"Tab"===t.key&&this.shiftDown&&this.$emit("prev",t),"Tab"===t.key&&this.$emit("next",t),"Escape"===t.key&&(this.resetTextTo(this.text),this.$nextTick(this.commitEdit)))},keyUp:function(t){this.isEditing&&!this.disableEdits&&("Meta"===t.key&&(this.metaDown=!1),"Shift"===t.key&&(this.shiftDown=!1))},selectText:function(){if(document.body.createTextRange){var t=document.body.createTextRange();t.moveToElementText(this.$el),t.select()}else if(window.getSelection){var e=window.getSelection(),n=document.createRange();n.selectNodeContents(this.$el),e.removeAllRanges(),e.addRange(n)}},sanitize:function(text){return text.replace(/<div>/g,"\n").replace(/<br\s?\/?>/g,"\n").replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/^[\s\n\t]*/g,"")},paste:function(t){t.stopPropagation(),t.preventDefault();var e=t.clipboardData||window.clipboardData,n=this.sanitize(e.getData("Text"));if(/.(jpe?g|png|gif|webm|bmp)$/gi.test(n))return this.$emit("setImageURL",n);if(/^data:/gi.test(n))return alert("that's image data, not a link! make sure you get an image url that ends in .jpg, .png, .gif, etc.");var r,o,d,c,l,f=document.activeElement.innerText,h=(r=this.$el,o=function(){var t=window.getSelection();if(null!=t&&t.rangeCount>0){var e=t.getRangeAt(0);return{start:d(r,e.startContainer,e.startOffset),end:d(r,e.endContainer,e.endOffset)}}return null},d=function t(e,n,r){var o=0;if("#text"===n.nodeName)o+=r;else for(var i=0;i<r;i++)o+=c(n.childNodes[i]);return n!==e&&(o+=t(e,n.parentNode,l(n))),o},c=function t(e){var n=0;if("BR"===e.nodeName)n=1;else if("#text"===e.nodeName)n=e.nodeValue.length;else if(null!==e.childNodes)for(var i=0;i<e.childNodes.length;i++)n+=t(e.childNodes[i]);return n},l=function t(e){return null==e?-1:1+t(e.previousSibling)},o(document.activeElement)),v=f.substring(0,h.start)+n+f.substring(h.end);this.displayText=v,this.$emit("changeText",v),this.$nextTick(this.moveCursorToEnd)},moveCursorToEnd:function(){var t,e;document.createRange?((t=document.createRange()).selectNodeContents(this.$el),t.collapse(!1),(e=window.getSelection()).removeAllRanges(),e.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(this.$el),t.collapse(!1),t.select())}}},o=(n(323),n(50)),component=Object(o.a)(r,(function(){var t=this;return(0,t._self._c)("div",{staticClass:"editabletext",class:{editabletextediting:t.isEditing,placeholder:t.isPlaceholder},attrs:{contenteditable:t.isEditing,tabindex:"0"},domProps:{innerHTML:t._s(t.displayText)},on:{focus:t.startEdit,click:t.startEdit,input:function(e){t.$emit("changeText",t.sanitize(t.$el.innerHTML))},blur:t.commitEdit,paste:t.paste}})}),[],!1,null,null,null);e.default=component.exports},304:function(t,e,n){"use strict";n.r(e);var r=n(303),o=(n(85),n(47),n(46),n(14),n(35),n(53),n(37),n(25),n(28),n(54),n(55),n(38),n(205));function d(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,d=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return d=t.done,t},e:function(t){l=!0,o=t},f:function(){try{d||null==n.return||n.return()}finally{if(l)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var l={components:{},props:{cards:{},slots:{default:10},maxTime:{default:null},title:{default:"All upcoming reviews:"}},data:function(){return{updateGraphTimer:null,reviewGraph:{},firstFrame:!0}},watch:{cards:function(){this.updateGraph()}},mounted:function(){var t=this;this.updateGraphTimer=setInterval(this.updateGraph,3e4),this.updateGraph(),setTimeout((function(){return t.firstFrame=!1}),100)},beforeDestroy:function(){clearInterval(this.updateGraphTimer)},methods:{updateGraph:function(){if(this.cards&&0!==this.cards.length){for(var t=Date.now(),e=this.cards.map((function(e){return parseInt(e.nextReview)-t})),n=this.maxTime?this.maxTime:Math.max.apply(Math,Object(r.a)(e)),c=[],l=[],f=0;f<this.slots;f++)c[f]=0,l[this.slots-1-f]=Object(o.msToString)(n-n/this.slots*(f+.5));var h,v=d(e);try{for(v.s();!(h=v.n()).done;){var time=h.value,m=Math.floor(time/n*(this.slots-1));m>=this.slots||(c[m]?c[m]++:c[m]=1)}}catch(t){v.e(t)}finally{v.f()}var w=Math.max.apply(Math,c);this.reviewGraph={graphPoints:c,labels:l,maxValue:w}}}}},f=(n(326),n(50)),component=Object(f.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"reviewgraph"},[t.reviewGraph.graphPoints?e("h4",[t._v(t._s(t.title))]):t._e(),t._v(" "),e("div",{staticClass:"bars"},t._l(t.reviewGraph.graphPoints,(function(n,r){return e("div",{key:"bar"+r,staticClass:"fill",style:{height:t.firstFrame?0:n/t.reviewGraph.maxValue*100+"%"}},[e("div",{staticClass:"count"},[t._v(t._s(n))])])})),0),t._v(" "),e("div",{staticClass:"labels"},t._l(t.reviewGraph.labels,(function(label,n){return e("span",{key:"label"+n,staticClass:"sub"},[t._v(t._s(label)+"\n    ")])})),0)])}),[],!1,null,"451472b2",null);e.default=component.exports},305:function(t,e,n){"use strict";n.r(e);var r={props:{text:{},offset:{default:0},color:{default:"green"}},data:function(){return{textToFloat:null}},watch:{text:function(t){var e=this;this.textToFloat=null,this.$nextTick((function(){return e.textToFloat=e.text}))}}},o=(n(328),n(50)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return t.textToFloat?e("div",{staticClass:"floattext",style:{transform:"translateY(".concat(t.offset,"px)"),color:t.color}},[t._v("\n\t\t"+t._s(t.textToFloat)+"\n\t")]):t._e()}),[],!1,null,"d16cf874",null);e.default=component.exports},306:function(t,e,n){var content=n(324);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(116).default)("08509a0a",content,!0,{sourceMap:!1})},307:function(t,e,n){var content=n(327);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(116).default)("01951138",content,!0,{sourceMap:!1})},308:function(t,e,n){var content=n(329);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(116).default)("7ae8b474",content,!0,{sourceMap:!1})},311:function(t,e,n){var content=n(334);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(116).default)("a9b84848",content,!0,{sourceMap:!1})},313:function(t,e,n){var content=n(337);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(116).default)("20463f52",content,!0,{sourceMap:!1})},314:function(t,e,n){var content=n(339);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(116).default)("4096916e",content,!0,{sourceMap:!1})},317:function(t,e,n){"use strict";n.r(e);var r={props:{setTo:{required:!1,type:Boolean,default:!1},label:{required:!1,type:String}},components:{},data:function(){return{on:this.setTo}},computed:{},watch:{setTo:function(t){this.on!==t&&this.toggle()}},methods:{toggle:function(){this.on=!this.on,this.$emit("toggled",this.on)}}},o=(n(333),n(50)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"toggle",class:{on:t.on},on:{click:t.toggle}},[e("div",{staticClass:"icon"}),t._v(" "),t.label?e("div",{staticClass:"label"},[t._v(t._s(t.label))]):t._e()])}),[],!1,null,"96c47868",null);e.default=component.exports},320:function(t,e,n){"use strict";n.r(e);n(86),n(87),n(204),n(14),n(25),n(52),n(335);var r=n(321),o=n(310),d=n(205),c=18e5,l={ok:4,hard:1,again:.1},f=[300,3e4],h={components:{Card:r.default,AutoSpeaker:o.default},props:{reverse:{},front:{},back:{},id:{},set:{},timeMod:{default:0},nextReview:{default:0},totalReviews:{default:0},imageURL:{},examples:{},created:{default:function(){return(new Date).getTime()}},ok:{default:0},again:{default:0}},data:function(){return{msToString:d.msToString,showBack:!1,startedCardTime:new Date,revealedBackTime:new Date,averageTime:7e3,reviewsSoFar:0,metaDown:!1,textToSpeak:"",isFirefox:navigator.userAgent.toLowerCase().includes("firefox")}},computed:{settings:function(){var t,e=this;return null===(t=this.$store.state.setList)||void 0===t?void 0:t.find((function(s){return s.id===e.$store.state.currentSetId})).settings},isStudying:function(){return"study"===this.$store.state.appState},isEditing:function(){return"editCard"===this.$store.state.appState},isMobile:function(){return this.$store.state.isMobile},isEditingText:function(){return this.$store.state.isEditingText},isNewCard:function(){return!this.totalReviews||0===this.totalReviews},spokenLanguage:function(){return this.settings.autoSpeak?this.isStudying&&this.showBack?this.settings.languageTools:"en":this.settings.languageTools},timeBonuses:function(){return{ok:this.getTimeBonus("ok"),hard:this.getTimeBonus("hard"),again:this.getTimeBonus("again")}}},watch:{id:function(){this.startedCardTime=new Date,this.showBack=!1,this.settings.autoSpeakFront&&(this.textToSpeak=(this.reverse?this.back:this.front).replace(/\n.*/g,""));var t=this.$el.getBoundingClientRect().top+window.scrollY-10;t>window.scrollY+100||window.scrollTo(0,t)}},mounted:function(){window.addEventListener("keydown",this.keyDown),window.addEventListener("keyup",this.keyUp),this.settings.autoSpeakFront&&(this.textToSpeak=(this.reverse?this.back:this.front).replace(/\n.*/g,""))},beforeDestroy:function(){window.removeEventListener("keydown",this.keyDown),window.removeEventListener("keyup",this.keyUp)},methods:{showBackAction:function(){this.showBack=!0,this.revealedBackTime=new Date;var t=this.$refs.card.$el.getBoundingClientRect(),e=t.top+window.scrollY+t.height-window.innerHeight+(this.isMobile?70:120);e<=0||e<window.scrollY||window.scrollTo(0,e)},answer:function(t){"loading"===this.imageURL&&this.$store.commit("updateCard",{id:this.id,imageURL:null}),this.showBack=!1,this.reviewsSoFar++;var e=this.revealedBackTime-this.startedCardTime,n=e<f[0]||e>f[1];n||(this.averageTime=this.averageTime*((this.reviewsSoFar-1)/this.reviewsSoFar)+e*(1/this.reviewsSoFar));var r={};r.answerTime=n?0:1-(e-f[0])/f[1];r.maturity=this.totalReviews>30?1:this.totalReviews/30;var o=.2*(this.ok||0)/(this.again||1);r.successRatio=o>1?1:o;var l=this.front.length+this.back.length-5;l<0&&(l=0);r.length=l>40?1:l/40;var h={answerTime:.4,maturity:.25,successRatio:.25,length:.1};console.log("base time mod:",Object(d.msToString)(this.timeBonuses[t]));var v=0;for(var m in r)console.log(m+" bonus:",(100*r[m]).toFixed(0)+"% (+"+(r[m]*h[m]*100).toFixed(0)+"% adjusted)"),v+=r[m]*h[m];console.log("final bonus multiplier:",v);var w=this.timeBonuses[t]/2+this.timeBonuses[t]*v;w=Math.floor(w),console.log("pre-overlong-scaled time mod:",Object(d.msToString)(w)),(w=Math.floor(w*(-1*w/3e12+1)))<-1e3&&(w=3e12),w<1&&(w=1),"again"!==t&&w<c&&(w=c);var x=36e6;this.settings.oncePerDay&&w<x&&(w=x),console.log("old time mod:",Object(d.msToString)(this.timeMod)),console.log("new time mod:",Object(d.msToString)(w)),console.log("");var y=new Date(Date.now()+w).getTime(),k=this.totalReviews+1,_=this.again+("again"===t?1:0),S=k-_;this.$store.commit("studyCard",{id:this.id,lastStudied:Date.now(),timeMod:w,nextReview:y,totalReviews:k,ok:S,again:_}),this.$emit("done",w)},getTimeBonus:function(t){var e=(!this.timeMod||isNaN(this.timeMod)?0:this.timeMod)*l[t]*(this.settings.reviewIntervalMultiplier||1);"again"===t&&(e=0);var n=1-Math.min(.8,(Date.now()-(this.nextReview||Date.now()))/2592e6);return"again"===t&&console.log("overdue multiplier:",n.toFixed(2)),e*=n,"again"!==t&&e<c&&(e=c),e},keyDown:function(t){var e=this;"Control"===t.key&&(this.metaDown=!0),"Meta"===t.key?this.metaDown=!0:"i"===t.key&&this.metaDown&&(this.$store.commit("updateCard",{id:this.id,imageURL:"loading"}),Object(d.getRandomImage)(this.front||this.back).then((function(image){image&&e.$store.commit("updateCard",{id:e.id,imageURL:image})}))),this.isStudying&&!this.isEditingText&&("1"===t.key&&this.showBack&&this.answer("again"),"2"===t.key&&this.showBack?this.answer("hard"):" "===t.key||"Enter"===t.key?(t.preventDefault(),t.stopPropagation(),this.showBack?this.answer("ok"):this.showBackAction()):"3"===t.key&&this.showBack?this.answer("ok"):"p"===t.key&&this.$emit("postpone"))},keyUp:function(t){"Control"===t.key&&(this.metaDown=!1),"Meta"===t.key&&(this.metaDown=!1)}}},v=(n(336),n(50)),component=Object(v.a)(h,(function(){var t=this,e=t._self._c;return e("div",[t.settings.languageTools?e("AutoSpeaker",{attrs:{text:t.textToSpeak,language:t.spokenLanguage}}):t._e(),t._v(" "),e("Card",{ref:"card",staticClass:"card",attrs:{id:t.id,front:t.front,back:t.back,reverse:t.reverse,"time-mod":t.timeMod,"next-review":t.nextReview,"total-reviews":t.totalReviews,created:t.created,ok:t.ok,again:t.again,"for-study":!0,"show-back":t.showBack,set:t.set,"image-u-r-l":t.imageURL,examples:t.examples},on:{showBack:t.showBackAction}}),t._v(" "),e("div",{staticClass:"buttonlist primary"},[t.showBack?[void 0!==t.timeBonuses.again?e("button",{key:"again",on:{click:function(e){return t.answer("again")}}},[t._v("\n        Wrong\n        "),e("span",{staticClass:"sub"},[e("span",{staticClass:"fade"},[t._v(t._s(t.msToString(0,!0)))])]),t._v(" "),t._m(1)]):t._e(),t._v(" "),t.timeBonuses.hard?e("button",{key:"hard",on:{click:function(e){return t.answer("hard")}}},[t._v("\n        Hard\n        "),e("span",{staticClass:"sub"},[e("span",{staticClass:"fade"},[t._v("~"+t._s(t.msToString(t.timeBonuses.hard,!0)))])]),t._v(" "),t._m(2)]):t._e(),t._v(" "),t.timeBonuses.ok?e("button",{key:"ok",on:{click:function(e){return t.answer("ok")}}},[t._v("\n        Right\n        "),e("span",{staticClass:"sub"},[e("span",{staticClass:"fade"},[t._v("~"+t._s(t.msToString(t.timeBonuses.ok,!0)))])]),t._v(" "),e("div",[e("kbd",{staticClass:"keyicon"},[t._v("3")]),t._v(" "),t.isMobile?t._e():e("span",[t._v("/")]),t._v(" "),e("kbd",{staticClass:"keyicon"},[t._v("Space")])])]):t._e()]:e("button",{key:"showback",staticClass:"showback",on:{click:t.showBackAction}},[t._v("\n      Show Back\n      "),t._m(0)])],2),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"centertext"},[e("button",{staticStyle:{"padding-right":"15%","padding-left":"15%"},on:{click:function(e){return t.$emit("postpone")}}},[t._v("\n      Postpone\n      "),t._m(3)])])],1)}),[function(){var t=this._self._c;return t("div",[t("kbd",{staticClass:"keyicon"},[this._v("Space")])])},function(){var t=this._self._c;return t("div",[t("kbd",{staticClass:"keyicon"},[this._v("1")])])},function(){var t=this._self._c;return t("div",[t("kbd",{staticClass:"keyicon"},[this._v("2")])])},function(){var t=this._self._c;return t("div",[t("span",{staticClass:"keyicon"},[this._v("P")])])}],!1,null,"26c7bafa",null);e.default=component.exports;installComponents(component,{AutoSpeaker:n(310).default,Card:n(321).default})},322:function(t,e,n){"use strict";n.r(e);var r={props:{toStudy:{},startedWith:{}},components:{},data:function(){return{adjustedStartedWith:this.toStudy.length}},computed:{},watch:{toStudy:function(t){t.length>=this.startedWith&&(this.adjustedStartedWith=t.length)},startedWith:function(t){t>=this.toStudy.length&&(this.adjustedStartedWith=t)}},mounted:function(){},beforeDestroy:function(){},methods:{}},o=(n(338),n(50)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"remainingcards"},[t._l(t.adjustedStartedWith-t.toStudy.length>0?t.adjustedStartedWith-t.toStudy.length:0,(function(t){return e("div",{key:t,staticClass:"card"})})),t._v(" "),t._l(t.toStudy,(function(t,n){return e("div",{key:t.id,staticClass:"card",class:{review:t.totalReviews,new:!t.totalReviews,current:0===n}})}))],2)}),[],!1,null,"805d34fa",null);e.default=component.exports},323:function(t,e,n){"use strict";n(306)},324:function(t,e,n){var r=n(115)((function(i){return i[1]}));r.push([t.i,".editabletext{cursor:pointer}.editabletext.placeholder{color:rgba(0,0,0,.2)}.editabletext.editabletextediting{cursor:text}",""]),r.locals={},t.exports=r},325:function(t,e,n){var content=n(355);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(116).default)("47ac36ad",content,!0,{sourceMap:!1})},326:function(t,e,n){"use strict";n(307)},327:function(t,e,n){var r=n(115)((function(i){return i[1]}));r.push([t.i,".reviewgraph[data-v-451472b2]{margin-bottom:30px;width:100%}.reviewgraph .bars[data-v-451472b2]{align-items:flex-end;display:flex;height:70px;justify-content:stretch}.reviewgraph .bars .fill[data-v-451472b2]{background:#ddd;border-top-left-radius:5px;border-top-right-radius:5px;flex:1;height:0;margin:0 3px;position:relative;transition:all 1s}.reviewgraph .count[data-v-451472b2]{font-size:.8em;left:50%;opacity:.3;position:absolute;top:0;transform:translateX(-50%) translateY(-93%)}.reviewgraph .labels[data-v-451472b2]{display:flex;justify-content:stretch;margin-top:2px;text-align:center}.reviewgraph .labels>*[data-v-451472b2]{flex:1}",""]),r.locals={},t.exports=r},328:function(t,e,n){"use strict";n(308)},329:function(t,e,n){var r=n(115)((function(i){return i[1]}));r.push([t.i,".floattext[data-v-d16cf874]{animation:pointsscroll-d16cf874 1.5s ease-out normal forwards;font-weight:600;left:0;pointer-events:none;position:absolute;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%;z-index:1000}@keyframes pointsscroll-d16cf874{0%{bottom:0;opacity:0}50%{opacity:1}to{bottom:100px;opacity:0}}",""]),r.locals={},t.exports=r},330:function(t,e,n){var content=n(357);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(116).default)("208ef948",content,!0,{sourceMap:!1})},331:function(t,e,n){var content=n(362);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(116).default)("d0d0d392",content,!0,{sourceMap:!1})},332:function(t,e,n){var content=n(364);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(116).default)("544d4bc3",content,!0,{sourceMap:!1})},333:function(t,e,n){"use strict";n(311)},334:function(t,e,n){var r=n(115)((function(i){return i[1]}));r.push([t.i,'.toggle[data-v-96c47868]{grid-gap:10px;cursor:pointer;display:grid;grid-template-columns:60px 1fr}.toggle .icon[data-v-96c47868]{border:1px solid #bbb;border-radius:.85rem;height:1.7rem;position:relative;transition:.3s;width:3.7rem;z-index:1}.toggle .icon[data-v-96c47868]:before{content:"OFF";font-size:.65rem;font-weight:800;left:55%;opacity:.5;position:absolute;top:24%;transition:.3s;z-index:1}.toggle .icon[data-v-96c47868]:after{background:#bbb;border-radius:.7rem;content:"";height:1.4rem;left:5%;position:absolute;top:6%;transition:.3s;width:1.4rem;z-index:2}.toggle.on .icon[data-v-96c47868]{background:#4c4;border:1px solid transparent}.toggle.on .icon[data-v-96c47868]:before{color:#fff;content:"ON";left:15%;opacity:1}.toggle.on .icon[data-v-96c47868]:after{background:#fff;left:58%}.toggle .label[data-v-96c47868]{font-weight:600;margin-top:.1rem;-webkit-user-select:none;-moz-user-select:none;user-select:none}',""]),r.locals={},t.exports=r},335:function(t,e,n){"use strict";var r=n(2),o=n(3),d=n(56),c=n(209),l=n(208),f=n(4),h=RangeError,v=String,m=Math.floor,w=o(l),x=o("".slice),y=o(1..toFixed),k=function(t,e,n){return 0===e?n:e%2==1?k(t,e-1,n*t):k(t*t,e/2,n)},_=function(data,t,e){for(var n=-1,r=e;++n<6;)r+=t*data[n],data[n]=r%1e7,r=m(r/1e7)},S=function(data,t){for(var e=6,n=0;--e>=0;)n+=data[e],data[e]=m(n/t),n=n%t*1e7},C=function(data){for(var t=6,s="";--t>=0;)if(""!==s||0===t||0!==data[t]){var e=v(data[t]);s=""===s?e:s+w("0",7-e.length)+e}return s};r({target:"Number",proto:!0,forced:f((function(){return"0.000"!==y(8e-5,3)||"1"!==y(.9,0)||"1.25"!==y(1.255,2)||"1000000000000000128"!==y(0xde0b6b3a7640080,0)}))||!f((function(){y({})}))},{toFixed:function(t){var e,n,r,o,l=c(this),f=d(t),data=[0,0,0,0,0,0],m="",y="0";if(f<0||f>20)throw h("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return v(l);if(l<0&&(m="-",l=-l),l>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(l*k(2,69,1))-69)<0?l*k(2,-e,1):l/k(2,e,1),n*=4503599627370496,(e=52-e)>0){for(_(data,0,n),r=f;r>=7;)_(data,1e7,0),r-=7;for(_(data,k(10,r,1),0),r=e-1;r>=23;)S(data,1<<23),r-=23;S(data,1<<r),_(data,1,1),S(data,2),y=C(data)}else _(data,0,n),_(data,1<<-e,0),y=C(data)+w("0",f);return y=f>0?m+((o=y.length)<=f?"0."+w("0",f-o)+y:x(y,0,o-f)+"."+x(y,o-f)):m+y}})},336:function(t,e,n){"use strict";n(313)},337:function(t,e,n){var r=n(115)((function(i){return i[1]}));r.push([t.i,".card[data-v-26c7bafa]{margin-bottom:20px}.showback[data-v-26c7bafa]{width:100%}@media(max-width:768px){.buttonlist.primary[data-v-26c7bafa]{border-bottom:none;border-radius:0;bottom:0;left:0;position:relative;position:fixed;width:100%;z-index:1000}.buttonlist.primary button[data-v-26c7bafa]{background:#eee;border-radius:0}.buttonlist.primary button[data-v-26c7bafa]:hover{background:#ddd}}",""]),r.locals={},t.exports=r},338:function(t,e,n){"use strict";n(314)},339:function(t,e,n){var r=n(115)((function(i){return i[1]}));r.push([t.i,".remainingcards[data-v-805d34fa]{align-items:center;display:flex;height:10px;justify-content:center;margin:10px 0 20px;position:relative;width:100%}.remainingcards .card[data-v-805d34fa]{background:#ddd;flex-grow:0;flex-shrink:1;height:4px;opacity:.5;transform:scaleX(1);width:4px}.remainingcards .card.review[data-v-805d34fa]{background:#bbb}.remainingcards .card.review.current[data-v-805d34fa]{opacity:1}.remainingcards .card.new[data-v-805d34fa]{background:#bbb}.remainingcards .card.new.current[data-v-805d34fa]{opacity:1}.remainingcards .card.current[data-v-805d34fa]{animation-duration:0s;border-radius:5px;flex-shrink:0;height:10px;width:10px}",""]),r.locals={},t.exports=r},340:function(t,e,n){"use strict";n.r(e);n(86);var r,o=n(19),d=(n(87),n(204),n(14),n(85),n(47),n(25),n(52),n(305)),c=n(318),l=n(319),f=n(205),h=n(24),v=n(303),m=(n(142),n(46),n(51),n(207),{components:{FloatingText:d.default,EditableTextFieldMarkdown:c.default,ImageLoader:l.default},props:{},data:function(){return{front:"",back:"",imageURL:"",examples:void 0,metaDown:!1,floatText:"",isDuplicate:!1,setFocus:"front",isFirefox:navigator.userAgent.toLowerCase().includes("firefox"),loadingAutocomplete:!1}},computed:{languageTools:function(){var t,e=this;return null===(t=this.$store.state.setList)||void 0===t?void 0:t.find((function(s){return s.id===e.$store.state.currentSetId})).settings.languageTools},cards:function(){var t,e=this;return null===(t=this.$store.state.setList)||void 0===t?void 0:t.find((function(s){return s.id===e.$store.state.currentSetId})).cards}},watch:{front:function(t){if(t.length<2)return this.isDuplicate=!1;this.isDuplicate=this.cards.find((function(e){return e.front.toLowerCase()===t.toLowerCase()}))}},mounted:function(){window.addEventListener("keydown",this.keyDown),window.addEventListener("keyup",this.keyUp),this.$store.commit("setAppState","addCard"),window.addEventListener("focus",this.focus),window.addEventListener("blur",this.blur)},beforeDestroy:function(){window.removeEventListener("keydown",this.keyDown),window.removeEventListener("keyup",this.keyUp),this.$store.commit("setIsEditingText",!1),window.removeEventListener("focus",this.focus),window.removeEventListener("blur",this.blur)},methods:(r={focus:function(){this.$refs.front.$el.blur(),this.$refs.back.$el.blur(),this.$store.commit("setIsEditingText",!1),window.getSelection().removeAllRanges()},blur:function(){this.$refs.front.$el.blur(),this.$refs.back.$el.blur(),this.$store.commit("setIsEditingText",!1),window.getSelection().removeAllRanges()},newCard:function(){var t=this;if((this.front||this.imageURL)&&this.back){var e={id:Date.now(),front:this.front,back:this.back,nextReview:0,set:parseInt(this.$store.state.currentSetId)};this.examples&&(e.examples=this.examples),this.imageURL&&(e.imageURL=this.imageURL),this.$store.commit("addCard",e),this.floatText="Card added.",setTimeout((function(){return t.floatText=""}),1500),this.$nextTick((function(){t.front="",t.back="",t.imageURL="",t.examples=void 0,t.isDuplicate=!1,t.setFocus=null,t.$nextTick((function(){return t.setFocus="front"}))}))}},keyDown:function(t){"Control"===t.key&&(this.metaDown=!0),"Meta"===t.key&&(this.metaDown=!0),"Enter"===t.key&&this.metaDown&&this.$nextTick(this.newCard),"i"===t.key&&this.metaDown&&(t.preventDefault(),t.stopPropagation(),this.autoSetImage()),"m"===t.key&&this.metaDown&&(t.preventDefault(),t.stopPropagation(),this.autoComplete())},keyUp:function(t){"Control"===t.key&&(this.metaDown=!1),"Meta"===t.key&&(this.metaDown=!1)}},Object(o.a)(r,"focus",(function(){this.$store.commit("setIsEditingText",!0)})),Object(o.a)(r,"tab",(function(t){var e=this;t.preventDefault(),this.setFocus=null,this.$nextTick((function(){return e.setFocus="back"}))})),Object(o.a)(r,"shiftTab",(function(t){var e=this;t.preventDefault(),this.setFocus=null,this.$nextTick((function(){return e.setFocus="front"}))})),Object(o.a)(r,"setImageURL",(function(t){this.imageURL=t})),Object(o.a)(r,"autoSetImage",(function(){var t=this;Object(f.getRandomImage)(this.front||this.back).then((function(image){image?t.imageURL=image:t.floatText="No image found."}))})),Object(o.a)(r,"autoComplete",(function(){var t=this;this.loadingAutocomplete=!0;var e=!!this.front,n=(e?this.front:this.back).split("\n")[0];if(!n)return this.loadingAutocomplete=!1,console.log("no basis text");(function(t){var e=t.language,n=t.textToBaseOn,r=t.basedOnFrontText,o=t.front,d=t.back;return new Promise("ja"===e?function(t){var e=/[\u3000-\u303F\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF\u3400-\u4DBF]/.test(n),c=/[\u4E00-\u9FAF\u3400-\u4DBF]/.test(n);try{fetch("https://us-central1-general-prototype-project.cloudfunctions.net/cors-proxy?url=https://jisho.org/api/v1/search/words?keyword=".concat(n)).then((function(t){return t.json()})).then((function(data){return data.data[0]})).then((function(n){n||(r&&t({front:"",back:"Couldn't find a definition for that!"}),t({back:"",front:"Couldn't find a definition for that!"}));var l=n.is_common,f=o,h=d,m=!1,w=n.senses.slice(0,2).reduce((function(t,e){return[].concat(Object(v.a)(t),Object(v.a)(e.english_definitions.slice(0,2)))}),[]).join(", ");r?e?(c&&n.japanese[0].reading?h=n.japanese[0].reading:!c&&n.japanese[0].word&&(h=n.japanese[0].word),h=h+"\n"+w):e||(f=w,h=(n.japanese[0].word?n.japanese[0].word+"\n":"")+(n.japanese[0].reading?n.japanese[0].reading:""),m=!0):r||(e?(f=w,h=(n.japanese[0].word?n.japanese[0].word+"\n":"")+(n.japanese[0].reading?n.japanese[0].reading:""),m=!0):e||(f=n.japanese[0].word?n.japanese[0].word:n.japanese[0].reading?n.japanese[0].reading:"Whoops, couldn't find that one.",h=(n.japanese[0].reading?n.japanese[0].reading+"\n":"")+w)),t({front:f,back:h+=l?"":"\n_(uncommon word)_",shouldAutoSetImage:m})}))}catch(e){t({front:r?n:"Error in fetching data!",back:r?"Error in fetching data!":n})}}:"es"===e?function(t){try{fetch("https://us-central1-general-prototype-project.cloudfunctions.net/cors-proxy?url=https://www.spanishdict.com/translate/".concat(n)).then((function(t){return t.text()})).then((function(e){var n,o=/<div id="headword-(en|es)" [^>]*><h1 [^<]*>([^<]*)<\/h1><\/div>.*<div .*quickdef1[^>]*><a href="\/translate[^>]*>([^<]*)/g.exec(e);if(!o)return r&&t({front:"",back:""}),void t({back:"",front:""});var d,c=Object(h.a)(o,4),l=(c[0],c[1]),f=c[2],v=c[3],image=null===(n=/<img.+? src="([^"]+dictionary-images[^"]+)"/g.exec(e))||void 0===n?void 0:n[1],m=/<div class=".*?"><span class=".*?" lang="([^"]+)">([^<]*)<\/span><span class=".*?" lang="([^"]+)">([^<]*)<\/span><\/div>/g.exec(e);if(m){var w=Object(h.a)(m,5),x=(w[0],w[1]),y=w[2],k=(w[3],w[4]);d||(d=[]),"en"===x?d.push("".concat(y,"@").concat(k)):d.push("".concat(k,"@").concat(y))}t({front:r?f:v,back:r?v:f,image:image,examples:d,shouldAutoSetImage:r&&"en"===l||!r&&"es"===l})}))}catch(e){t({front:r?n:"Error in fetching data!",back:r?"Error in fetching data!":n})}}:function(t){t({front:r?n:"That language isn't supported yet!",back:r?"That language isn't supported yet!":n})})})({front:this.front,back:this.back,basedOnFrontText:e,textToBaseOn:n,language:this.languageTools}).then((function(e){t.front=e.front||t.front,t.back=e.back||t.back,t.imageURL=e.image||t.imageURL||"",t.examples=e.examples||t.examples||void 0,t.examples&&(t.examples=t.examples.map((function(t){return w(t)}))),e.shouldAutoSetImage&&!e.image&&t.autoSetImage(),t.loadingAutocomplete=!1}))})),r)}),w=function(t){return t.replace(/&#x27;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},x=m,y=(n(356),n(50)),component=Object(y.a)(x,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"cardcreator",class:{loading:t.loadingAutocomplete}},[e("div",{staticClass:"cardframe"},[e("EditableTextFieldMarkdown",{ref:"front",staticClass:"textfield front",class:{duplicate:t.isDuplicate},attrs:{focus:"front"===t.setFocus,placeholder:"Hint"},on:{startEdit:t.focus,next:t.tab,setImageURL:t.setImageURL},model:{value:t.front,callback:function(e){t.front=e},expression:"front"}}),t._v(" "),t.examples?e("div",{staticClass:"examplefield",on:{click:function(e){t.examples=void 0}}},t._l(t.examples,(function(n){return e("div",{key:n.split("@")[0]},[t._v("\n        "+t._s(n.split("@")[0])+"\n      ")])})),0):t._e(),t._v(" "),t.imageURL?e("div",{staticClass:"imagecontainer",on:{click:function(e){t.imageURL=""}}},[e("ImageLoader",{attrs:{url:t.imageURL}})],1):t._e(),t._v(" "),e("EditableTextFieldMarkdown",{ref:"back",staticClass:"textfield back",attrs:{focus:"back"===t.setFocus,placeholder:"Answer"},on:{startEdit:t.focus,prev:t.shiftTab,setImageURL:t.setImageURL},model:{value:t.back,callback:function(e){t.back=e},expression:"back"}}),t._v(" "),t.examples?e("div",{staticClass:"examplefield"},t._l(t.examples,(function(n){return e("div",{key:n.split("@")[1]},[t._v("\n        "+t._s(n.split("@")[1])+"\n      ")])})),0):t._e()],1),t._v(" "),e("FloatingText",{attrs:{text:t.floatText,offset:"-30"}}),t._v(" "),e("div",{staticClass:"buttonlist"},[e("button",{on:{click:t.newCard}},[e("div",[t._v("Add Card")]),t._v(" "),e("kbd",{staticClass:"keyicon"},[t._v("⌘-Enter")])])]),t._v(" "),t.front||t.back?e("center",[["ja","es"].includes(t.languageTools)?[e("button",{on:{click:t.autoComplete}},[e("div",[t._v("Auto-Complete Card")]),t._v(" "),e("kbd",{staticClass:"keyicon"},[t._v(t._s(t.isFirefox?"ctrl":"⌘")+"-m")])]),t._v(" "),e("br"),t._v(" "),e("br")]:t._e(),t._v(" "),e("span",{staticClass:"sub"},[t._v("Paste an image link to add your own image.")]),t._v(" "),e("span",{staticClass:"sub"},[t._v("Or,")]),t._v(" "),e("br"),t._v(" "),e("button",{on:{click:t.autoSetImage}},[e("div",[t._v("Auto-Set Image")]),t._v(" "),e("kbd",{staticClass:"keyicon"},[t._v(t._s(t.isFirefox?"ctrl":"⌘")+"-i")])]),t._v(" "),e("br"),t._v(" "),t.imageURL?e("div",{staticClass:"sub",staticStyle:{position:"relative",top:"5px"}},[t._v("\n      (click image to remove it)\n    ")]):t._e(),t._v(" "),e("br"),t._v(" "),e("br")],2):t._e()],1)}),[],!1,null,"c5a5d126",null);e.default=component.exports;installComponents(component,{EditableTextFieldMarkdown:n(318).default,ImageLoader:n(319).default,FloatingText:n(305).default})},341:function(t,e,n){"use strict";n.r(e);n(47),n(36),n(14);var r=n(19),o=(n(204),n(85),n(51),n(35),n(30),n(28),n(58),n(29),n(59),n(302)),d=n(317),c=n(206);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var f={props:{},components:{EditableTextField:o.default,Toggle:d.default},data:function(){return{selectedLanguageTools:null,displaySpeechSpeed:4,reviewIntervalMultiplier:1,speechSpeedUpdateTimer:null,reviewInterviewMultiplierUpdateTimer:null,languages:{none:"None",ar:"Arabic",zh:"Chinese",da:"Danish",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",ko:"Korean",es:"Spanish"}}},computed:{currentSet:function(){var t,e=this;return null===(t=this.$store.state.setList)||void 0===t?void 0:t.find((function(s){return s.id===e.$store.state.currentSetId}))},settings:function(){var t,e=this;return(null===(t=this.$store.state.setList)||void 0===t?void 0:t.find((function(s){return s.id===e.$store.state.currentSetId})).settings)||{}}},mounted:function(){this.selectedLanguageTools=this.settings.languageTools||"none",this.displaySpeechSpeed=9*(this.settings.speechSpeed-.5)+1||4,this.reviewIntervalMultiplier=this.settings.reviewIntervalMultiplier||1},beforeDestroy:function(){},watch:{selectedLanguageTools:function(t){var e="none"===t?null:t;this.updateSettings({languageTools:e})},displaySpeechSpeed:function(){var t=this;clearTimeout(this.speechSpeedUpdateTimer),this.speechSpeedUpdateTimer=setTimeout((function(){return t.updateSettings({speechSpeed:(t.displaySpeechSpeed-1)/9+.5})}),1e3)},reviewIntervalMultiplier:function(){var t=this;clearTimeout(this.reviewInterviewMultiplierUpdateTimer),this.reviewInterviewMultiplierUpdateTimer=setTimeout((function(){return t.updateSettings({reviewIntervalMultiplier:t.reviewIntervalMultiplier})}),1e3)}},methods:{deleteSet:function(){confirm('Do you really want to delete the set "'.concat(this.currentSet.name,'" with ').concat(this.currentSet.cards?this.currentSet.cards.length:0," cards?"))&&(this.$store.commit("deleteSet",this.currentSet.id),this.$store.commit("setAppState","study"))},updateSettings:function(t){this.$store.commit("updateSetSettings",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},t))},updateMaxNewPerDay:function(t){var e=0===parseInt(t)?0:parseInt(t)||10;this.$store.commit("updateSetSettings",{maxNewPerDay:e})},updateMaxReviewsPerDay:function(t){var e=0===parseInt(t)?0:parseInt(t)||0;this.$store.commit("updateSetSettings",{maxReviewsPerDay:e})},downloadSet:function(){h(this.currentSet,this.currentSet.name+" "+(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString())},downloadSetFromLocalStorage:function(){h(Object(c.get)("".concat(this.currentSet.id)),this.currentSet.name+" "+(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString())},markAllAsNew:function(){}}};function h(t,e){var n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t)),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",e+".json"),document.body.appendChild(r),r.click(),r.remove()}var v=f,m=(n(354),n(50)),component=Object(m.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings"},[e("div",{staticClass:"settingslist"},[t.settings.autoAddNew?t._e():e("p",[e("EditableTextField",{staticClass:"visibletextfield marright",attrs:{text:"".concat(0===t.settings.maxNewPerDay?0:t.settings.maxNewPerDay||10),lineBreaksAllowed:!1},on:{endEdit:t.updateMaxNewPerDay}}),t._v(" "),e("b",[t._v("New cards per day")])],1),t._v(" "),e("p",[e("EditableTextField",{staticClass:"visibletextfield marright",attrs:{text:"".concat(0===t.settings.maxReviewsPerDay?0:t.settings.maxReviewsPerDay||0),lineBreaksAllowed:!1},on:{endEdit:t.updateMaxReviewsPerDay}}),t._v(" "),t._m(0)],1),t._v(" "),e("Toggle",{key:"rev",attrs:{setTo:t.settings.studyReverse,label:"Study cards back-to-front"},on:{toggled:function(e){t.updateSettings({studyReverse:!!!t.settings.studyReverse})}}}),t._v(" "),e("Toggle",{key:"mix",attrs:{setTo:t.settings.shuffleCards,label:"Shuffle cards (new & reviews)"},on:{toggled:function(e){t.updateSettings({shuffleCards:!!!t.settings.shuffleCards})}}}),t._v(" "),e("Toggle",{key:"once",attrs:{setTo:t.settings.oncePerDay,label:"Only see cards once per day"},on:{toggled:function(e){t.updateSettings({oncePerDay:!!!t.settings.oncePerDay})}}}),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedLanguageTools,expression:"selectedLanguageTools"}],staticClass:"marright",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedLanguageTools=e.target.multiple?n:n[0]}}},t._l(t.languages,(function(n,r){return e("option",{key:r,domProps:{value:r}},[t._v("\n        "+t._s(n)+"\n      ")])})),0),t._v(" "),e("b",[t._v("Language Tools")]),t._v(" "),t.selectedLanguageTools&&"none"!==t.selectedLanguageTools?e("Toggle",{key:"autospeak",attrs:{setTo:t.settings.autoSpeak,label:"Auto-speak card backs"},on:{toggled:function(e){t.updateSettings({autoSpeak:!!!t.settings.autoSpeak})}}}):t._e(),t._v(" "),t.selectedLanguageTools&&"none"!==t.selectedLanguageTools?e("Toggle",{key:"autospeakfront",attrs:{setTo:t.settings.autoSpeakFront,label:"Auto-speak card fronts"},on:{toggled:function(e){t.updateSettings({autoSpeakFront:!!!t.settings.autoSpeakFront})}}}):t._e(),t._v(" "),t.selectedLanguageTools&&"none"!==t.selectedLanguageTools?e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.displaySpeechSpeed,expression:"displaySpeechSpeed"}],key:"speechspeed",staticClass:"slider",attrs:{type:"range",min:"1",max:"10"},domProps:{value:t.displaySpeechSpeed},on:{__r:function(e){t.displaySpeechSpeed=e.target.value}}}),t._v(" "),e("b",[t._v("Speech Speed: "+t._s(Math.round(t.displaySpeechSpeed)))])]):t._e(),t._v(" "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.reviewIntervalMultiplier,expression:"reviewIntervalMultiplier"}],key:"reviewinterval",staticClass:"slider",attrs:{type:"range",min:"1",max:"4",step:".1"},domProps:{value:t.reviewIntervalMultiplier},on:{__r:function(e){t.reviewIntervalMultiplier=e.target.value}}}),t._v(" "),e("b",[t._v("Review Interval Multiplier:\n        "+t._s(Math.round(10*t.reviewIntervalMultiplier)/10))])]),t._v(" "),e("div",[t._v("Click your set's name (above) to edit it.")]),t._v(" "),e("button",{on:{click:t.markAllAsNew}},[t._v("Mark all cards as new")]),t._v(" "),e("button",{on:{click:t.downloadSet}},[t._v("Download Set")]),t._v(" "),e("button",{on:{click:t.deleteSet}},[t._v("Delete Set")]),t._v(" "),e("br"),e("br"),e("br"),t._v(" "),e("div",{staticClass:"sub textcenter fakelink",on:{click:t.downloadSetFromLocalStorage}},[t._v("\n      Download Set from Local Storage\n    ")])],1)])}),[function(){var t=this,e=t._self._c;return e("b",{staticStyle:{position:"relative"}},[t._v("Max reviews per day "),e("span",{staticClass:"below sub"},[t._v("(0 for no limit)")])])}],!1,null,"519f3284",null);e.default=component.exports;installComponents(component,{EditableTextField:n(302).default,Toggle:n(317).default})},342:function(t,e,n){"use strict";n.r(e);n(204),n(14);var r={props:{id:{}},components:{ReviewGraph:n(304).default},data:function(){return{}},computed:{currentSet:function(){var t,e=this;return null===(t=this.$store.state.setList)||void 0===t?void 0:t.find((function(s){return s.id===e.$store.state.currentSetId}))},totalReviews:function(){return this.oks+this.agains},newCards:function(){return this.currentSet.cards.reduce((function(t,e){return t+(e.suspended||e.totalReviews&&0!==e.totalReviews?0:1)}),0)},oks:function(){return this.currentSet.cards.reduce((function(t,e){return t+(e.ok?e.ok:0)}),0)},agains:function(){return this.currentSet.cards.reduce((function(t,e){return t+(e.again?e.again:0)}),0)},masteredCards:function(){return this.currentSet.cards.reduce((function(t,e){return t+(e.ok&&e.ok>5&&e.ok/(e.again?e.again:0)>4?1:0)}),0)}},mounted:function(){},beforeDestroy:function(){},watch:{},methods:{}},o=n(50),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"stats"},[e("p",[t._v("\n    Cards: "),e("b",[t._v(t._s(t.currentSet.cards.length))])]),t._v(" "),e("p",[t._v("\n    Mastered Cards: "),e("b",[t._v(t._s(t.masteredCards))]),t._v(" "),e("span",{staticClass:"sub"},[t._v("("+t._s(Math.round(t.masteredCards/t.currentSet.cards.length*100))+"%)")])]),t._v(" "),e("p",[t._v("\n    New Cards: "),e("b",[t._v(t._s(t.newCards))])]),t._v(" "),e("p",[t._v("\n    Deck Created:\n    "),e("b",[t._v(t._s(new Date(parseInt(t.currentSet.id)).toLocaleDateString()))])]),t._v(" "),e("p",[t._v("\n    Total Reviews: "),e("b",[t._v(t._s(t.totalReviews))])]),t._v(" "),e("p",[t._v("\n    Success Rate:\n    "),e("b",[t._v(t._s(t.oks&&t.agains?Math.round(t.oks/(t.agains+t.oks)*1e4)/100:0)+"%")]),t._v(" "),t.oks&&t.agains?e("span",{staticClass:"sub"},[t._v("("+t._s(t.oks)+" oks / "+t._s(t.agains)+" agains)")]):t._e()]),t._v(" "),e("ReviewGraph",{attrs:{cards:t.currentSet.cards}})],1)}),[],!1,null,"6e864de6",null);e.default=component.exports;installComponents(component,{ReviewGraph:n(304).default})},343:function(t,e,n){"use strict";n.r(e);var r=n(303),o=(n(204),n(14),n(46),n(365),n(36),n(51),n(85),n(320)),d=n(302),c=n(322),l=n(304),f=n(305),h=n(205),v={components:{SingleCardStudy:o.default,ReviewGraph:l.default,FloatingText:f.default,EditableTextField:d.default,RemainingCardIndicator:c.default},props:{cards:{}},data:function(){return{refreshCardsTimer:null,startedWith:0,displayTimeMod:null,updatedCards:[],cardsToStudy:[]}},computed:{appState:function(){return this.$store.state.appState},currentSetId:function(){return this.$store.state.currentSetId},settings:function(){var t,e=this;return(null===(t=this.$store.state.setList)||void 0===t?void 0:t.find((function(s){return s.id===e.$store.state.currentSetId})).settings)||{}},newToday:function(){var t,e=this;return null===(t=this.$store.state.setList)||void 0===t?void 0:t.find((function(s){return s.id===e.$store.state.currentSetId})).newToday},reviewsToday:function(){var t,e=this;return null===(t=this.$store.state.setList)||void 0===t?void 0:t.find((function(s){return s.id===e.$store.state.currentSetId})).reviewsToday},doneForDay:function(){return this.doneReviewing&&this.doneWithNewCards},newCards:function(){var t=(this.settings.maxNewPerDay||0)-(this.newToday||0);return this.updatedCards.filter((function(t){return!t.totalReviews&&(!t.nextReview||t.nextReview<Date.now())})).sort((function(a,b){return a.id>b.id?1:-1})).slice(0,t>0?t:0)},doneWithNewCards:function(){return this.newToday>=this.settings.maxNewPerDay||0===this.newCards.length},newCardsAreLeftOver:function(){var t=this.updatedCards.filter((function(t){return 0===t.totalReviews||!t.totalReviews})).length;return t>0&&t+this.newToday>this.settings.maxNewPerDay},newCardsLeftOver:function(){return this.newCardsAreLeftOver?this.updatedCards.filter((function(t){return 0===t.totalReviews||!t.totalReviews})).length:0},dueCards:function(){var t=this.settings.maxReviewsPerDay?this.settings.maxReviewsPerDay-(this.reviewsToday||0):99999,e=Date.now();return this.updatedCards.filter((function(t){return t.totalReviews&&t.totalReviews>0&&t.nextReview<e})).sort((function(a,b){return a.nextReview>b.nextReview?1:-1})).slice(0,t>0?t:0)},doneReviewing:function(){return 0===this.dueCards.length||this.settings.maxReviewsPerDay&&this.reviewsToday>=this.settings.maxReviewsPerDay},reviewsAreLeftOver:function(){return this.doneReviewing&&this.dueCards.length},reviewsLeftOver:function(){return this.dueCards.length},allStudyableCards:function(){return this.doneWithNewCards?Object(r.a)(this.dueCards):[].concat(Object(r.a)(this.newCards),Object(r.a)(this.dueCards))},cardToStudy:function(){return this.cardsToStudy[0]},nextReviewIn:function(){if(this.settings.maxReviewsPerDay&&this.reviewsToday>=this.settings.maxReviewsPerDay)return"a day";var t=(this.doneForDay?this.updatedCards.filter((function(t){return t.totalReviews&&t.totalReviews>0})):this.updatedCards).reduce((function(t,e){var n=e.nextReview;return n<t?n:t}),1e19);return Object(h.msToString)(t-Date.now())}},watch:{currentSetId:function(){var t=this;this.toReview=[],this.$nextTick((function(){t.refreshCards(),t.startedWith=t.dueCards.length+t.newCards.length}))},cards:function(){this.$nextTick(this.refreshCards)},doneForDay:function(t){t&&(window.scrollTo(0,0),this.$nextTick(this.refreshCards),this.startedWith=0)},allStudyableCards:function(t){var e=this,n=function(t){return t.sort((function(){return Math.random()-.5}))},o=t.filter((function(t){return!e.cardsToStudy.find((function(e){return e.id===t.id}))}));if(!!this.cardsToStudy.find((function(e){return!t.find((function(t){return e.id===t.id}))})))return this.cardsToStudy=this.settings.shuffleCards?n(t):t;if(0!==o.length){var d,c=[].concat(Object(r.a)(this.cardsToStudy),Object(r.a)(this.settings.shuffleCards?n(o):o));this.cardsToStudy=this.settings.shuffleCards?(d=c,[].concat(Object(r.a)(d.slice(0,1)),Object(r.a)(n(d.slice(1,d.length-2))),Object(r.a)(d.slice(d.length-2)))):c.sort((function(a,b){return a.nextReview-b.nextReview}))}}},mounted:function(){void 0!==this.settings.maxNewPerDay&&null!==this.settings.maxNewPerDay||this.$store.commit("updateSetSettings",{maxNewPerDay:10}),void 0!==this.settings.studyReverse&&null!==this.settings.studyReverse||this.$store.commit("updateSetSettings",{studyReverse:!1}),this.refreshCardsTimer=setInterval(this.refreshCards,1e4),this.refreshCards(),this.startedWith=this.dueCards.length+this.newCards.length},beforeDestroy:function(){clearInterval(this.refreshCardsTimer)},methods:{finishedCurrentCard:function(t){var e=this;if(this.cardsToStudy.shift(),void 0!==t){var text=t>1?"+"+Object(h.msToString)(t):"Again!";this.displayTimeMod=null,this.$nextTick((function(){return e.displayTimeMod=text})),this.preloadNextImage()}},postponeCurrentCard:function(){var t=this,e=this.cardsToStudy.shift(),n=36e5;this.$store.commit("updateCard",{id:e.id,nextReview:new Date(Date.now()+n).getTime()}),this.displayTimeMod=null,this.$nextTick((function(){return t.displayTimeMod="Postponed for "+Object(h.msToString)(n)})),this.preloadNextImage()},preloadNextImage:function(){var t=this.cardsToStudy[1];t&&t.imageURL&&((new Image).src=t.imageURL,console.log("preloaded",t.imageURL))},refreshCards:function(){this.updatedCards=Object(r.a)(this.cards.filter((function(t){return!t.suspended})))},updateMaxNewPerDay:function(t){var e=parseInt(t)||10;this.$store.commit("updateSetSettings",{maxNewPerDay:e})},updateMaxReviewsPerDay:function(t){var e=parseInt(t)||0;this.$store.commit("updateSetSettings",{maxReviewsPerDay:e})}}},m=(n(361),n(50)),component=Object(m.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"studyframe",class:{focus:"study"===t.appState||"editCard"===t.appState}},[t.settings.studyReverse?e("div",{staticClass:"sub"},[t._v("\n    Studying cards back-to-front.\n    "),e("u",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.$store.commit("updateSetSettings",{studyReverse:!1})}}},[t._v("\n      Back to normal\n    ")])]):t._e(),t._v(" "),e("FloatingText",{attrs:{text:t.displayTimeMod,color:t.displayTimeMod?"Again!"===t.displayTimeMod?"#fa4":"#0c6":"green",offset:"-120"}}),t._v(" "),t.doneForDay?t.doneForDay&&t.reviewsAreLeftOver?[e("div",{staticClass:"padtb centertext"},[e("h3",[t._v("Done for now!")]),t._v(" "),e("div",[t._v("\n        There "+t._s(1===t.reviewsLeftOver?"is":"are")+"\n        "),e("b",[t._v(t._s(t.reviewsLeftOver))]),t._v(" more card"+t._s(1===t.reviewsLeftOver?"":"s")+"\n        due to be reviewed. If you want to study more cards today, change the\n        setting below.\n      ")]),t._v(" "),e("p",{staticClass:"singlesetting"},[e("EditableTextField",{staticClass:"visibletextfield",attrs:{text:"".concat(t.settings.maxReviewsPerDay),"line-breaks-allowed":!1},on:{endEdit:t.updateMaxReviewsPerDay}}),t._v("   "),e("b",[t._v("Max reviews per day (0 for no limit)")])],1),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),t.nextReviewIn?e("p",[t._v("Otherwise, come back tomorrow to study more.")]):t._e()])]:t.doneForDay&&t.newCardsAreLeftOver?[e("div",{staticClass:"padtb centertext"},[e("h3",[t._v("Done for now!")]),t._v(" "),e("div",[t._v("\n        There "+t._s(1===t.newCardsLeftOver?"is":"are")+"\n        "),e("b",[t._v(t._s(t.newCardsLeftOver))]),t._v(" new card"+t._s(1===t.newCardsLeftOver?"":"s")+"\n        remaining to be learned. If you want to study more new cards, change\n        the setting below.\n      ")]),t._v(" "),e("p",{staticClass:"singlesetting"},[e("EditableTextField",{staticClass:"visibletextfield",attrs:{text:"".concat(t.settings.maxNewPerDay),"line-breaks-allowed":!1},on:{endEdit:t.updateMaxNewPerDay}}),t._v("   "),e("b",[t._v("New cards per day")])],1),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),t.nextReviewIn?e("p",[t._v("\n        Otherwise, your next review is in "+t._s(t.nextReviewIn)+".\n      ")]):t._e()])]:0===t.cards.length?[e("div",{staticClass:"padtb centertext"},[e("h3",[t._v("No cards yet!")]),t._v(" "),e("button",{on:{click:function(e){return t.$store.commit("setAppState","addCard")}}},[t._v("\n        + Add Cards\n      ")])])]:[e("div",{staticClass:"padtb centertext"},[e("h3",[t._v("Done for now!")]),t._v(" "),t.nextReviewIn?e("div",[t._v("\n        Your next review is in "+t._s(t.nextReviewIn)+".\n      ")]):t._e()])]:[e("div",{staticClass:"sub centertext padt-small"},[t.newCards.length>0?e("span",[e("b",[t._v(t._s(t.newCards.length))]),t._v(" new card"+t._s(1===t.newCards.length?"":"s")+"\n        "),t.dueCards.length>0?e("span",[t._v("and")]):t._e()]):t._e(),t._v(" "),t.dueCards.length>0?e("span",[e("b",[t._v(t._s(t.dueCards.length))]),t._v(" review"+t._s(1===t.dueCards.length?"":"s")+"\n      ")]):t._e(),t._v("\n      left.\n    ")]),t._v(" "),e("RemainingCardIndicator",{attrs:{"to-study":t.allStudyableCards,"started-with":t.startedWith}}),t._v(" "),e("SingleCardStudy",t._b({attrs:{reverse:t.settings.studyReverse},on:{done:t.finishedCurrentCard,postpone:t.postponeCurrentCard}},"SingleCardStudy",t.cardToStudy,!1))],t._v(" "),t.doneForDay&&t.cards.length>0?[e("ReviewGraph",{attrs:{cards:t.updatedCards,slots:7,"max-time":6048e5,title:"Upcoming reviews:"}})]:t._e()],2)}),[],!1,null,"48088ed7",null);e.default=component.exports;installComponents(component,{FloatingText:n(305).default,RemainingCardIndicator:n(322).default,SingleCardStudy:n(320).default,EditableTextField:n(302).default,ReviewGraph:n(304).default})},344:function(t,e,n){"use strict";n.r(e);n(204),n(14);var r={components:{Browser:n(315).default},computed:{setCards:function(){var t,e=this;return null===(t=this.$store.state.setList)||void 0===t?void 0:t.find((function(s){return s.id===e.$store.state.currentSetId})).cards}}},o=(n(363),n(50)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"cardbrowser"},[e("Browser",{attrs:{cards:t.setCards}}),t._v(" "),e("button",{staticClass:"add",on:{click:function(e){return t.$store.commit("setAppState","addCard")}}},[e("div",[t._v("Add Card")])])],1)}),[],!1,null,"dc3e8f92",null);e.default=component.exports;installComponents(component,{Browser:n(315).default})},349:function(t,e,n){var content=n(383);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(116).default)("ee5172ca",content,!0,{sourceMap:!1})},350:function(t,e,n){var content=n(385);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(116).default)("8c7e46f6",content,!0,{sourceMap:!1})},351:function(t,e,n){var content=n(387);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(116).default)("451e4594",content,!0,{sourceMap:!1})},352:function(t,e,n){var content=n(389);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(116).default)("0c75da74",content,!0,{sourceMap:!1})},354:function(t,e,n){"use strict";n(325)},355:function(t,e,n){var r=n(115)((function(i){return i[1]}));r.push([t.i,".settingslist[data-v-519f3284]{margin:20px auto 0;max-width:400px}.settingslist>*[data-v-519f3284]{margin-bottom:40px}p[data-v-519f3284]{margin-bottom:10px}p>*[data-v-519f3284]{display:inline-block;min-width:55px}.below[data-v-519f3284]{left:0;position:absolute;top:100%}button[data-v-519f3284]{width:100%}.marright[data-v-519f3284]{margin-right:10px}",""]),r.locals={},t.exports=r},356:function(t,e,n){"use strict";n(330)},357:function(t,e,n){var r=n(115)((function(i){return i[1]}));r.push([t.i,'.cardcreator[data-v-c5a5d126]{margin:0 auto;opacity:1;position:relative;transition:all .5s}.cardcreator.loading[data-v-c5a5d126]{opacity:.3;pointer-events:none}.cardcreator>*[data-v-c5a5d126]{display:block}.cardcreator .cardframe[data-v-c5a5d126]{border-radius:10px;overflow:hidden;position:relative}.cardcreator .imagecontainer[data-v-c5a5d126]{background:#f8f8f8;text-align:center}.cardcreator .imagecontainer>*[data-v-c5a5d126]{margin:0 auto;max-height:250px;max-width:80%}.cardcreator .examplefield[data-v-c5a5d126]{background:#f8f8f8;color:rgba(0,0,0,.6);font-size:.8rem;line-height:1.2;padding:0 2em 1em;text-align:center}.cardcreator .textfield[data-v-c5a5d126]{background:#f8f8f8;font-size:1.5rem;outline:0;padding:50px 20px;text-align:center;transition:background .2s}.cardcreator .textfield.editabletextediting[data-v-c5a5d126]{background:rgba(0,0,0,.05)}.cardcreator .textfield[data-v-c5a5d126]:after{content:"";font-size:.5em;font-weight:600;opacity:0;position:absolute;right:-10px;top:10px;transition:all .4s}.cardcreator .textfield[data-v-c5a5d126]:hover:not(.editabletextediting){background:rgba(0,0,0,.05);position:relative}.cardcreator .textfield[data-v-c5a5d126]:hover:not(.editabletextediting):after{color:rgba(0,0,0,.2);content:"Click to Edit";opacity:1;right:10px}.cardcreator .textfield.duplicate[data-v-c5a5d126]:after{color:#f52!important;content:"Duplicate card!"!important;opacity:1;right:10px}.cardcreator .back[data-v-c5a5d126]{border-top:1px solid #ddd;transition:.2s}.cardcreator .buttonlist[data-v-c5a5d126]{display:flex;margin-bottom:20px;margin-top:20px;width:100%}',""]),r.locals={},t.exports=r},361:function(t,e,n){"use strict";n(331)},362:function(t,e,n){var r=n(115)((function(i){return i[1]}));r.push([t.i,".studyframe[data-v-48088ed7]{opacity:.3;position:relative;transition:all .5s}.studyframe.focus[data-v-48088ed7]{opacity:1}.padt-small[data-v-48088ed7],.padtb-small[data-v-48088ed7]{padding-top:15px}.padtb-small[data-v-48088ed7]{padding-bottom:15px}.padtb[data-v-48088ed7]{padding:100px 0}.progressbar[data-v-48088ed7]{height:0;position:relative;width:100%}.progressbar div[data-v-48088ed7]{background:#ccc;height:5px;transition:.5s}.singlesetting[data-v-48088ed7]{background:#eee;border-radius:5px;display:inline-block;padding:15px 20px}.singlesetting>*[data-v-48088ed7]{display:inline-block;min-width:50px}",""]),r.locals={},t.exports=r},363:function(t,e,n){"use strict";n(332)},364:function(t,e,n){var r=n(115)((function(i){return i[1]}));r.push([t.i,".cardbrowser[data-v-dc3e8f92]{font-size:1rem;margin:0 auto 200px;position:relative;transition:all .5s}.add[data-v-dc3e8f92]{margin-top:40px;width:100%}",""]),r.locals={},t.exports=r},366:function(t,e,n){"use strict";n.r(e);n(35);var r=n(302),o=n(341),d=n(342),c=n(340),l=n(343),f=n(344),h={props:{id:{},name:{},cards:{},lastStudied:{default:function(){return new Date}},newToday:{default:0},reviewsToday:{default:0}},components:{EditableTextField:r.default,SetSettings:o.default,SetStats:d.default,CardCreator:c.default,StudyFrame:l.default,SetBrowser:f.default},data:function(){return{newCardsToday:0,reviewCardsToday:0}},computed:{appState:function(){return this.$store.state.appState},isEditingText:function(){return this.$store.state.isEditingText},setList:function(){return this.$store.state.setList}},mounted:function(){window.addEventListener("keyup",this.keyUp)},beforeDestroy:function(){window.removeEventListener("keyup",this.keyUp)},methods:{startEditName:function(){this.$store.commit("setIsEditingText",!0)},saveEditedName:function(t){this.$store.commit("updateSetName",t),this.$store.commit("setIsEditingText",!1)},keyUp:function(t){this.isEditingText||("s"===t.key&&this.$store.commit("setAppState","study"),"a"===t.key&&this.$store.commit("setAppState","addCard"),"b"===t.key&&this.$store.commit("setAppState","setBrowse"),"t"===t.key&&this.$store.commit("setAppState","setStats"),"e"===t.key&&this.$store.commit("setAppState","setSettings"),"ArrowRight"===t.key&&this.$store.dispatch("goToNextSet"),"ArrowLeft"===t.key&&this.$store.dispatch("goToPreviousSet"))}}},v=(n(382),n(50)),component=Object(v.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"setview"},[e("h1",[e("EditableTextField",{attrs:{text:t.name,placeholder:"Enter set name",lineBreaksAllowed:!1},on:{startEdit:t.startEditName,endEdit:t.saveEditedName}}),t._v(" "),t.cards?e("div",{staticClass:"sub"},[t._v("\n      ("+t._s(t.cards.length)+" card"+t._s(1===t.cards.length?"":"s")+")\n    ")]):t._e()],1),t._v(" "),e("div",{staticClass:"buttonlist"},[e("button",{class:{active:"study"===t.appState||"editCard"===t.appState},on:{click:function(e){return t.$store.commit("setAppState","study")}}},[e("div",[t._v("Study")]),t._v(" "),e("kbd",{staticClass:"keyicon"},[t._v("s")])]),t._v(" "),e("button",{class:{active:"addCard"===t.appState},on:{click:function(e){return t.$store.commit("setAppState","addCard")}}},[e("div",[t._v("Add")]),t._v(" "),e("kbd",{staticClass:"keyicon"},[t._v("a")])]),t._v(" "),e("button",{class:{active:"setBrowse"===t.appState},on:{click:function(e){return t.$store.commit("setAppState","setBrowse")}}},[e("div",[t._v("Browse")]),t._v(" "),e("kbd",{staticClass:"keyicon"},[t._v("b")])]),t._v(" "),e("button",{class:{active:"setStats"===t.appState},on:{click:function(e){return t.$store.commit("setAppState","setStats")}}},[e("div",[t._v("Stats")]),t._v(" "),e("kbd",{staticClass:"keyicon"},[t._v("t")])]),t._v(" "),e("button",{class:{active:"setSettings"===t.appState},on:{click:function(e){return t.$store.commit("setAppState","setSettings")}}},[e("div",[t._v("Settings")]),t._v(" "),e("kbd",{staticClass:"keyicon"},[t._v("e")])])]),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"setelements"},["addCard"===t.appState||!t.cards&&"study"===t.appState?e("CardCreator",{key:"add"}):"setBrowse"===t.appState?e("SetBrowser",{key:"browse"}):"setSettings"===t.appState?e("SetSettings",{key:"settings"}):"setStats"===t.appState?e("SetStats",{key:"stats"}):e("StudyFrame",{key:"study",attrs:{cards:t.cards}})],1)])}),[],!1,null,"474613a4",null);e.default=component.exports;installComponents(component,{EditableTextField:n(302).default,CardCreator:n(340).default,SetBrowser:n(344).default,SetSettings:n(341).default,SetStats:n(342).default,StudyFrame:n(343).default})},368:function(t,e,n){"use strict";n.r(e);var r=n(303),o={props:{},components:{Browser:n(315).default},computed:{currentUser:function(){return this.$store.state.currentUser},allSets:function(){return this.$store.state.setList},totalStudiedToday:function(){var t=0;for(var e in this.allSets)t+=(this.allSets[e].newToday||0)+(this.allSets[e].reviewsToday||0);return t},allCards:function(){var t=[];for(var e in this.allSets)t.push.apply(t,Object(r.a)(this.allSets[e].cards));return t}},methods:{logOut:function(){this.$store.commit("logOut")}}},d=(n(384),n(50)),component=Object(d.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"userview"},[e("h1",[t._v("\n    Hi, "+t._s(t.currentUser)+"!\n    "),e("div",{staticClass:"buttonlist",staticStyle:{display:"inline-block"}},[e("button",{on:{click:t.logOut}},[t._v("Log out")])])]),t._v(" "),t.allCards.length>0?[e("div",[t._v("You've studied "+t._s(t.totalStudiedToday)+" cards today.")]),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("h1",[t._v("\n      All Your Cards\n      "),e("span",{staticClass:"sub"},[t._v("("+t._s(t.allCards.length)+" total cards)")])]),t._v(" "),e("Browser",{attrs:{cards:t.allCards,inline:!0}})]:t._e()],2)}),[],!1,null,"71cd51be",null);e.default=component.exports;installComponents(component,{Browser:n(315).default})},369:function(t,e,n){"use strict";n.r(e);n(35),n(204),n(14);var r=n(19),o=(n(36),n(85),n(86),n(87),n(206).get),d=n(205).getNumberDueInSet,c={components:{},props:{},data:function(){return{isLoading:!1,inputUsername:"",dueReviews:{},setPickerOpen:!1}},computed:Object(r.a)({currentUser:function(){return this.$store.state.currentUser},appState:function(){return this.$store.state.appState},setList:function(){return this.$store.state.setList||[]},setListWithoutCurrentSet:function(){var t=this;return this.setList.filter((function(s){return s.id!==t.currentSetId}))},currentSetId:function(){return this.$store.state.currentSetId},currentCards:function(){var t,e,n=this;return null!==(t=this.$store.state.setList)&&void 0!==t&&t.find((function(s){return s.id===n.$store.state.currentSetId}))?null===(e=this.$store.state.setList)||void 0===e?void 0:e.find((function(s){return s.id===n.$store.state.currentSetId})).cards:[]},isMobile:function(){return this.$store.state.isMobile}},"appState",(function(){return this.$store.state.appState})),watch:{currentUser:function(t){this.isLoading=!1;var e=o("currentSetId");e&&""!==e&&this.$store.commit("setCurrentSetId",e),t||this.$nextTick(this.focusInput)},setList:function(){this.isLoading=!1,this.updateDueReviews()},currentCards:function(){this.updateDueReviews()},currentSetId:function(){this.isLoading=!1,this.updateDueReviews()},setPickerOpen:function(t){t?window.addEventListener("click",this.checkClickToClose):window.removeEventListener("click",this.checkClickToClose)}},mounted:function(){window.addEventListener("keydown",this.keyDown),this.updateDueReviews(),window.setInterval(this.updateDueReviews,6e5);var t=o("currentUser");t&&""!==t?(this.$store.dispatch("logInAs",t),this.isLoading=!0):this.$nextTick(this.focusInput)},beforeDestroy:function(){window.removeEventListener("keydown",this.keyDown)},methods:{logInAs:function(){""!==this.inputUserName&&(this.isLoading=!0,this.$store.dispatch("logInAs",this.inputUsername))},logOut:function(){this.$store.commit("logOut")},keyDown:function(t){if(this.currentUser)return this.updateDueReviews();"Enter"===t.key&&this.logInAs()},focusInput:function(){this.$refs.usernameInput.focus()},switchSet:function(t){this.$store.commit("setCurrentSetId",t)},updateDueReviews:function(){for(var t in this.dueReviews={},this.setList){var e;null!==(e=this.setList)&&void 0!==e&&e[t]&&(new Date(this.setList[t].lastUpdated).getDate()!==(new Date).getDate()&&this.$store.commit("resetSetDay",t),this.dueReviews[this.setList[t].id]=d(this.setList[t]))}},checkClickToClose:function(t){(t.composedPath?t.composedPath():t.path).includes(this.$refs.mainButton)||(this.setPickerOpen=!1)},uploaded:function(t){var e=this,n=t.target.files[0],r=new FileReader;r.onload=function(t){var n=JSON.parse(t.target.result);e.$store.commit("uploadSet",n)},r.readAsText(n)}}},l=(n(386),n(50)),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"userandsetpicker",class:{fullscreen:!t.currentUser||t.isLoading,vertical:!t.currentUser}},[e("input",{ref:"uploader",staticStyle:{display:"none"},attrs:{type:"file",accept:".json"},on:{change:t.uploaded}}),t._v(" "),t.currentUser||t.isLoading?t.isLoading?[e("div",{staticClass:"sub"},[t._v("Loading...")])]:[t.isMobile?e("div",{ref:"mainButton",staticClass:"buttonlist fullheight"},["user"===t.appState?e("button",{staticClass:"mainbutton",on:{click:function(e){return t.$store.commit("setAppState","study")}}},[t._v("\n        ← Back to Studying\n      ")]):t.setList.find((function(s){return s.id===t.currentSetId}))?e("button",{key:t.currentSetId,staticClass:"mainbutton",class:{open:t.setPickerOpen},staticStyle:{position:"relative"},on:{click:function(e){t.setPickerOpen=!t.setPickerOpen}}},[t._v("\n        "+t._s(t.setList.find((function(s){return s.id===t.currentSetId})).name)+" ▾\n        "),t.setPickerOpen?e("div",{staticClass:"secondarypanel"},[t._l(t.setListWithoutCurrentSet,(function(n){return e("button",{key:n.id,class:{duecards:t.dueReviews[n.id]>0},on:{click:function(e){return t.switchSet(n.id)}}},[t._v("\n            "+t._s(n.name)+"\n          ")])})),t._v(" "),e("button",{on:{click:function(e){return t.$refs.uploader.click()}}},[t._v("Upload Set")]),t._v(" "),e("button",{on:{click:function(e){return t.$store.commit("addSet")}}},[t._v("+ Add Set")])],2):t._e()]):e("button",{on:{click:function(e){return t.$store.commit("addSet")}}},[t._v("\n        + Add Set\n      ")])]):e("div",{staticClass:"buttonlist fullheight inlineblock"},[t._l(t.setList,(function(n){return e("button",{key:n.id,class:{active:t.currentSetId===n.id&&"user"!==t.appState},on:{click:function(e){return t.switchSet(n.id)}}},[t._v("\n        "+t._s(n.name)+"\n        "),!t.isMobile&&t.dueReviews[n.id]>0&&t.currentSetId!==n.id||"user"===t.appState?e("span",{staticClass:"sub"},[t._v("\n          ("+t._s(t.dueReviews[n.id])+")\n        ")]):t._e()])})),t._v(" "),e("button",{on:{click:function(e){return t.$refs.uploader.click()}}},[t._v("Upload Set")]),t._v(" "),e("button",{on:{click:function(e){return t.$store.commit("addSet")}}},[t._v("Add Set")])],2),t._v(" "),e("div",{staticClass:"flex-ai"},[e("div",{staticClass:"buttonlist fullheight inlineblock"},[e("button",{class:{active:"user"===t.appState},on:{click:function(e){return t.$store.commit("setAppState","user")}}},[t._v("\n          "+t._s(t.currentUser))]),t.isMobile?t._e():e("button",{on:{click:t.logOut}},[t._v("Log out")])])])]:[t._m(0),t._v(" "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputUsername,expression:"inputUsername"}],ref:"usernameInput",staticClass:"username",attrs:{autocorrect:"off",autocapitalize:"off",placeholder:"username"},domProps:{value:t.inputUsername},on:{input:function(e){e.target.composing||(t.inputUsername=e.target.value)}}})]),t._v(" "),e("div",[e("button",{staticClass:"loginbutton",on:{click:t.logInAs}},[t._v("Go")])])]],2)}),[function(){var t=this._self._c;return t("h1",[t("b",[this._v("Enter your username.")])])}],!1,null,"1a04294d",null);e.default=component.exports},382:function(t,e,n){"use strict";n(349)},383:function(t,e,n){var r=n(115)((function(i){return i[1]}));r.push([t.i,"h1[data-v-474613a4]{height:2rem;margin-bottom:.75rem;margin-top:0}h1 div[data-v-474613a4]{display:inline-block}.padright[data-v-474613a4]{padding-right:10px}.setelements>*[data-v-474613a4],.setelements>*>*[data-v-474613a4]{width:100%}",""]),r.locals={},t.exports=r},384:function(t,e,n){"use strict";n(350)},385:function(t,e,n){var r=n(115)((function(i){return i[1]}));r.push([t.i,"h1[data-v-71cd51be]{margin-bottom:.75rem;margin-top:0}",""]),r.locals={},t.exports=r},386:function(t,e,n){"use strict";n(351)},387:function(t,e,n){var r=n(115)((function(i){return i[1]}));r.push([t.i,'.userandsetpicker[data-v-1a04294d]{align-items:center;background:#333;display:flex;height:43px;justify-content:space-between;padding:3px 50px 0;position:relative;width:100%;z-index:12}@media(max-width:768px){.userandsetpicker[data-v-1a04294d]{height:40px;padding:0 20px}}.userandsetpicker.fullscreen[data-v-1a04294d]{background:#eee;height:100vh;justify-content:center;position:fixed}.userandsetpicker.vertical[data-v-1a04294d]{flex-direction:column}.userandsetpicker.vertical>*[data-v-1a04294d]{margin-bottom:20px}.username[data-v-1a04294d]{border:1px solid #eee;border-radius:7px;padding:10px}.loginbutton[data-v-1a04294d],.username[data-v-1a04294d]{font-family:"Avenir Neue","Avenir","Helvetica",sans-serif;font-size:1.2rem}.loginbutton[data-v-1a04294d]{border-radius:7px;padding:20px 50px}button:not(.active).duecards[data-v-1a04294d]{background:#fd8}.inlineblock[data-v-1a04294d]{display:inline-block}.flex-ai[data-v-1a04294d]{align-items:center;display:flex;height:100%;justify-content:center}.buttonlist[data-v-1a04294d]{overflow:visible}.buttonlist.fullheight[data-v-1a04294d]{border:none;border-radius:0;height:100%}.buttonlist.fullheight button[data-v-1a04294d]{background:hsla(0,0%,100%,0);border:none;box-shadow:none;color:#fff;transition:background .2s}@media(min-width:769px){.buttonlist.fullheight button[data-v-1a04294d]{border-top-left-radius:5px;border-top-right-radius:5px;padding:0 15px 2px}}.buttonlist.fullheight button[data-v-1a04294d]:hover{background:rgba(0,153,204,.3)}.buttonlist.fullheight button.active[data-v-1a04294d]{background:#fff;color:#000}@media(max-width:768px){.buttonlist.fullheight button[data-v-1a04294d]{background:hsla(0,0%,100%,.2);margin-right:3px}}.buttonlist.fullheight>*[data-v-1a04294d]{border-radius:0;height:100%}button.mainbutton[data-v-1a04294d]{box-shadow:0 0 1000px 1000px transparent;min-width:25vw;position:relative;transition:box-shadow .3s;z-index:100}button.open[data-v-1a04294d]{background:#fff!important;border-bottom-left-radius:0!important;border-bottom-right-radius:0!important;box-shadow:0 0 1000px 1000px rgba(0,0,0,.3);color:#000!important}.secondarypanel[data-v-1a04294d]{left:0;position:absolute;top:100%;width:100%}.secondarypanel button[data-v-1a04294d]{background:#ddd!important;border:0;border-radius:0;border-top:1px solid #eee;color:#000!important;width:100%}.secondarypanel button[data-v-1a04294d]:first-of-type{border-radius:0}.secondarypanel button[data-v-1a04294d]:last-of-type{border-radius:0;border-bottom-left-radius:10px;border-bottom-right-radius:10px}',""]),r.locals={},t.exports=r},388:function(t,e,n){"use strict";n(352)},389:function(t,e,n){var r=n(115)((function(i){return i[1]}));r.push([t.i,".refreshtakeover[data-v-97f78d7e]{align-items:center;background:hsla(0,0%,100%,0);display:flex;font-size:1.5em;height:100vh;justify-content:center;left:0;pointer-events:none;position:fixed;top:0;transition:.4s;width:100%;z-index:2000}.refreshtakeover>*[data-v-97f78d7e]{opacity:0;transition:.4s}.refreshtakeover.on[data-v-97f78d7e]{background:hsla(0,0%,100%,.95);pointer-events:auto}.refreshtakeover.on>*[data-v-97f78d7e]{opacity:1}",""]),r.locals={},t.exports=r},390:function(t,e,n){var content=n(426);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(116).default)("54d445ac",content,!0,{sourceMap:!1})},391:function(t,e,n){"use strict";n.r(e);var r={data:function(){return{startTime:null,requireRefreshTime:3e5,refreshing:!1}},computed:{currentUser:function(){return this.$store.state.currentUser}},mounted:function(){this.startTime=Date.now(),window.addEventListener("focus",this.checkIfRefreshNeeded)},beforeDestroy:function(){window.removeEventListener("focus",this.checkIfRefreshNeeded)},methods:{checkIfRefreshNeeded:function(){this.currentUser&&Date.now()-this.startTime>this.requireRefreshTime&&this.refresh(),this.startTime=Date.now()},refresh:function(){this.startTime=Date.now(),this.$store.dispatch("logInAs",this.currentUser)}}},o=(n(388),n(50)),component=Object(o.a)(r,(function(){var t=this._self._c;return t("div",{staticClass:"refreshtakeover",class:{on:!1}},[t("span",[this._v("Loading data...")])])}),[],!1,null,"97f78d7e",null);e.default=component.exports},392:function(t,e,n){"use strict";n.r(e);var r=n(393),o=n.n(r);for(var d in r)["default"].indexOf(d)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(d);e.default=o.a},393:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(0));e.default=o.default.extend({})},425:function(t,e,n){"use strict";n(390)},426:function(t,e,n){var r=n(115)((function(i){return i[1]}));r.push([t.i,"@import url(https://fonts.googleapis.com/css?family=Raleway);"]),r.push([t.i,'body,html{font-family:"Avenir Neue","Avenir","Raleway","Helvetica",sans-serif;margin:0;scroll-behavior:smooth}*{box-sizing:border-box}.app{min-height:100vh;position:absolute;top:0;width:100%}.app.mobile{font-size:14.5px}.content{margin:40px auto 20vh;max-width:100%;padding:0 7vw;position:relative;width:650px}@media(max-width:768px){.content{margin-top:30px}}.content>div{position:relative;width:100%}a,a:active,a:hover,a:visited{color:#555}.sub{font-size:.85rem;font-weight:500}.fade,.sub{opacity:.6}.centertext,.keyicon{text-align:center}.keyicon{background:rgba(0,0,0,.05);border:1px solid rgba(0,0,0,.3);border-radius:4px;box-shadow:0 2px 0 rgba(0,0,0,.2);color:rgba(0,0,0,.7);display:inline-block;font-family:"Avenir Neue","Avenir","Raleway","Helvetica",sans-serif;font-size:.7em;font-weight:600;line-height:1;margin-bottom:2px;min-width:16px;padding:2px 4px;text-transform:uppercase}@media(max-width:768px){.keyicon{display:none}}.visibletextfield{background:#fff;border:1px solid #bbb;border-radius:5px;padding:5px 0;position:relative;text-align:center}button{background:#fff;border:1px solid rgba(0,0,0,.1);border-radius:10px;color:#000;cursor:pointer;font-family:"Avenir",sans-serif;font-size:.85rem;font-weight:400;margin:0;padding:10px;transition:.2s}button.active,button:hover{background:#f8f8f8;border:1px solid transparent}.buttonlist{border:solid rgba(0,0,0,.1);border-radius:10px;border-width:1px 1px 3px;display:flex;flex-wrap:nowrap;overflow:visible}.buttonlist button,.buttonlist select{border:none;border-radius:0;box-shadow:inset -1px -1px 0 0 rgba(0,0,0,.1);flex-grow:1;flex-shrink:0;outline:0;overflow:visible;position:relative}.buttonlist button:first-of-type,.buttonlist select:first-of-type{border-bottom-left-radius:8px;border-top-left-radius:8px}.buttonlist button:last-of-type,.buttonlist select:last-of-type{border-bottom-right-radius:8px;border-right:none;border-top-right-radius:8px}.buttonlist select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml;utf8,<svg version=\'1.1\' xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' width=\'24\' height=\'24\' viewBox=\'0 0 24 24\'><path fill=\'#444\' d=\'M7.406 7.828l4.594 4.594 4.594-4.594 1.406 1.406-6 6-6-6z\'></path></svg>");background-position:98% 50%;background-repeat:no-repeat;padding-left:15px}.buttonlist.primary button,.buttonlist.primary select{font-size:1rem;padding:15px}select{background:#fff;border:1px solid #bbb;font-family:"Avenir Neue","Avenir","Helvetica",sans-serif;font-size:1rem;height:37px}.roundframe{border-radius:10px;overflow:hidden}.list-enter-active,.list-leave-active{position:absolute;top:0;transition:all .25s;width:100%}.list-leave-active{transition:all .1s}.list-enter,.list-leave-to{opacity:0}',""]),r.locals={},t.exports=r},442:function(t,e,n){"use strict";n.r(e);n(30),n(35),n(204),n(14);var r=n(366),o=n(368),d=n(369),c=n(391),l={components:{SetView:r.default,UserView:o.default,UserAndSetPicker:d.default,RefreshHandler:c.default},computed:{isMobile:function(){return this.$store.state.isMobile},currentUser:function(){return this.$store.state.currentUser},currentSet:function(){var t,e=this;return null===(t=this.$store.state.setList)||void 0===t?void 0:t.find((function(s){return s.id===e.$store.state.currentSetId}))},appState:function(){return this.$store.state.appState}},mounted:function(){var t=this;this.$nextTick((function(){return t.$el.focus()})),window.addEventListener("resize",this.checkWidth),this.checkWidth()},methods:{checkWidth:function(){this.$store.commit("setAppWidth",window.innerWidth)}}},f=(n(425),n(50)),component=Object(f.a)(l,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"app",class:{mobile:t.isMobile}},[e("UserAndSetPicker"),t._v(" "),e("div",{staticClass:"content"},[e("transition-group",{attrs:{appear:"",name:"list",tag:"div"}},[0===Object.keys(t.$store.state.setList).length&&"user"!==t.appState?e("div",{key:"nosets"},[e("center",[e("h1",{staticStyle:{margin:"50px auto"}},[t._v("No sets yet!")])]),t._v(" "),e("div",{staticClass:"buttonlist"},[e("button",{on:{click:function(e){return t.$store.commit("addSet")}}},[t._v("\n            + Add Your First Set\n          ")])])],1):t._e(),t._v(" "),t.currentSet&&"user"!==t.appState?e("SetView",{key:t.currentSet.id,attrs:{id:t.currentSet.id,name:t.currentSet.name,cards:t.currentSet.cards,lastStudied:t.currentSet.lastStudied,newToday:t.currentSet.newToday,reviewsToday:t.currentSet.reviewsToday}}):t._e(),t._v(" "),"user"===t.appState&&t.currentUser?e("UserView",{key:"user"}):t._e()],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{UserAndSetPicker:n(369).default,SetView:n(366).default,UserView:n(368).default})},518:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r=function(){var t=this._self._c;this._self._setupProxy;return t("App")},o=[]},519:function(t,e,n){"use strict";n.r(e);var r=n(518),o=n(392);for(var d in o)["default"].indexOf(d)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(d);var c=n(50),component=Object(c.a)(o.default,r.a,r.b,!1,null,null,null);e.default=component.exports,installComponents(component,{App:n(442).default})}}]);